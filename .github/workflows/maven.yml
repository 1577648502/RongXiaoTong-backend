# This workflow will build a Java project with Maven, and cache/restore any dependencies to improve the workflow execution time
# For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-maven

# This workflow uses actions that are not certified by GitHub.
# They are provided by a third-party and are governed by
# separate terms of service, privacy policy, and support
# documentation.

name: Java CI with Maven update files

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-java@master
      with:
        java-version: 8
        distribution: "adopt"
        cache: maven
    - name: Build with Maven
      run: mvn clean package --file pom.xml
    - name: copy file
      uses: appleboy/scp-action@master
      with:
        host: 40.81.25.68
        username: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDh+54Imvg1hN3/Z21WfxxmmpfKElTahTZXmdQkSL291fLo8RbQyJr8t0AP6Qc8nu+yjLPAtvHjoJjqf1mP46MJ+mTcNzXEcZIiz4Mj35NrGpjuC1Jd/vSk5rdqcB+a2D9ccKfavHxepAyzt7xkpGtRifSr8ukQOTGBeOfEA+jL80Rz9Puvcccz3xqYi5+H2lcwhPCHDC4yb6nbfbkFIUH0+KIOE/dD7NSQ8TnU9IkC0duNncUotXBH/iZ/2oVBU9yHzw2mGoc7L8g31Ae9zOo41aeCVztY2qGPzo3V/6nEUjhaPTC5UjD4mYnbsC2Waw7xeDmLFWmZHimWZUa1uheKJe3Wbc/hHHDDUhmfT7lH5AkKoGGbjr4RIAdP214bOAbXTG0sotXL/LKQtWT1CIld2LKpyQJPL0HrolSNDvRyAnbCy6tBbVWSY0Tvd2wlUOUUrDHUMUjTTCdxb+M1Y4XVlox8pnTYRkKGfensxKxyJE9EH3dCiEEJtQCSU8bor4E= 1577648502@qq.com"
        port: 22
        key: "-----BEGIN OPENSSH PRIVATE KEY-----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-----END OPENSSH PRIVATE KEY-----"
        source: "target/rongxiaotong-backend-0.0.1-SNAPSHOT.jar"
        rm: true
        target: "/www/wwwroot"
   
