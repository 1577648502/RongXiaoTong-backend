# This workflow will build a Java project with Maven, and cache/restore any dependencies to improve the workflow execution time
# For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-maven

# This workflow uses actions that are not certified by GitHub.
# They are provided by a third-party and are governed by
# separate terms of service, privacy policy, and support
# documentation.

name: Java CI with Maven update files

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-java@master
      with:
        java-version: 8
        distribution: "adopt"
        cache: maven
    - name: Build with Maven
      run: mvn clean package --file pom.xml
    - name: copy file
      uses: appleboy/scp-action@master
      with:
        host: 40.81.25.68
        username: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDh+54Imvg1hN3/Z21WfxxmmpfKElTahTZXmdQkSL291fLo8RbQyJr8t0AP6Qc8nu+yjLPAtvHjoJjqf1mP46MJ+mTcNzXEcZIiz4Mj35NrGpjuC1Jd/vSk5rdqcB+a2D9ccKfavHxepAyzt7xkpGtRifSr8ukQOTGBeOfEA+jL80Rz9Puvcccz3xqYi5+H2lcwhPCHDC4yb6nbfbkFIUH0+KIOE/dD7NSQ8TnU9IkC0duNncUotXBH/iZ/2oVBU9yHzw2mGoc7L8g31Ae9zOo41aeCVztY2qGPzo3V/6nEUjhaPTC5UjD4mYnbsC2Waw7xeDmLFWmZHimWZUa1uheKJe3Wbc/hHHDDUhmfT7lH5AkKoGGbjr4RIAdP214bOAbXTG0sotXL/LKQtWT1CIld2LKpyQJPL0HrolSNDvRyAnbCy6tBbVWSY0Tvd2wlUOUUrDHUMUjTTCdxb+M1Y4XVlox8pnTYRkKGfensxKxyJE9EH3dCiEEJtQCSU8bor4E= 1577648502@qq.com"
        port: 22
        key: "-----BEGIN OPENSSH PRIVATE KEY-----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-----END OPENSSH PRIVATE KEY-----"
        source: "target/rongxiaotong-backend-0.0.1-SNAPSHOT.jar"
        rm: true
        target: "/www/wwwroot"
   
